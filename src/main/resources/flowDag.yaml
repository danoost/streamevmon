sources:
  amp:
    type: influx
    subtype: amp
    config:
      serverName: 192.168.122.144
      subscriptionName: YamlDagRunnerAmpSubscription
  bigdata:
    type: influx
    subtype: bigdata
    config:
      serverName: 192.168.122.144
      subscriptionName: YamlDagRunnerEsmondSubscription
  esmond:
    type: esmond
    config:
      serverName: http://denv-owamp.es.net:8085

sinks:
  print:
    type: print
  influx:
    type: influx
    config:
      serverName: 192.168.122.144

detectors:
  baseline-icmp:
    type: baseline
    config:
      threshold: 60
    instances: &ampIcmpToAllSources
      - source:
          - name: amp
            datatype: icmp
            filterLossy: true
        sink:
          - name: influx
          - name: print

  changepoint-icmp:
    type: changepoint
    instances: *ampIcmpToAllSources

  loss-dns:
    type: loss
    config:
    instances:
      - source:
          - name: amp
            datatype: dns
        sink:
          - name: influx
          - name: print
